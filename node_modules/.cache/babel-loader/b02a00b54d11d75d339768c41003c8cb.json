{"ast":null,"code":"import React from 'react';\n\nconst form = (state = [], action) => {\n  // console.log(state);\n  // console.log(action);\n  let formElement = state.filter(b => b.showElement === action.showElement).slice(-1).pop();\n  console.log(formElement);\n\n  switch (action.type) {\n    case 'SHOW_FORM':\n      if (formElement) {\n        return [{\n          showElement: action.showElement,\n          elementAction: 'createPost',\n          enabled: !formElement.enabled\n        }];\n      }\n\n      return [...state, {\n        showElement: action.showElement,\n        elementAction: 'createPost',\n        enabled: true\n      }];\n\n    case 'SHOW_UPDATE_FORM':\n      if (formElement) {\n        return [{\n          showElement: action.showElement,\n          elementAction: 'updatePost',\n          optionalState: {\n            id: action.id,\n            title: action.title,\n            text: action.text\n          },\n          enabled: !formElement.enabled\n        }];\n      }\n\n      return [...state, {\n        showElement: action.showElement,\n        elementAction: 'updatePost',\n        optionalState: {\n          id: action.id,\n          title: action.title,\n          text: action.text\n        },\n        enabled: true\n      }];\n\n    default:\n      return state;\n  }\n};\n\nexport default form;","map":{"version":3,"sources":["/var/www/reactapps/testing-app-refactoring/src/reducers/form.js"],"names":["React","form","state","action","formElement","filter","b","showElement","slice","pop","console","log","type","elementAction","enabled","optionalState","id","title","text"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACjC;AACA;AACA,MAAIC,WAAW,GAAGF,KAAK,CAACG,MAAN,CAAaC,CAAC,IAAIA,CAAC,CAACC,WAAF,KAAkBJ,MAAM,CAACI,WAA3C,EAAwDC,KAAxD,CAA8D,CAAC,CAA/D,EAAkEC,GAAlE,EAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,WAAZ;;AACA,UAAQD,MAAM,CAACS,IAAf;AACI,SAAK,WAAL;AACI,UAAIR,WAAJ,EAAiB;AACb,eAAO,CAAC;AACJG,UAAAA,WAAW,EAAEJ,MAAM,CAACI,WADhB;AAEJM,UAAAA,aAAa,EAAE,YAFX;AAGJC,UAAAA,OAAO,EAAE,CAACV,WAAW,CAACU;AAHlB,SAAD,CAAP;AAKH;;AACD,aAAO,CAAC,GAAGZ,KAAJ,EACH;AACIK,QAAAA,WAAW,EAAEJ,MAAM,CAACI,WADxB;AAEIM,QAAAA,aAAa,EAAE,YAFnB;AAGIC,QAAAA,OAAO,EAAE;AAHb,OADG,CAAP;;AAQJ,SAAK,kBAAL;AACI,UAAIV,WAAJ,EAAiB;AACb,eAAO,CAAC;AACJG,UAAAA,WAAW,EAAEJ,MAAM,CAACI,WADhB;AAEJM,UAAAA,aAAa,EAAE,YAFX;AAGJE,UAAAA,aAAa,EAAE;AACXC,YAAAA,EAAE,EAAEb,MAAM,CAACa,EADA;AAEXC,YAAAA,KAAK,EAAEd,MAAM,CAACc,KAFH;AAGXC,YAAAA,IAAI,EAAEf,MAAM,CAACe;AAHF,WAHX;AAQJJ,UAAAA,OAAO,EAAE,CAACV,WAAW,CAACU;AARlB,SAAD,CAAP;AAUH;;AACD,aAAO,CAAC,GAAGZ,KAAJ,EAAW;AACVK,QAAAA,WAAW,EAAEJ,MAAM,CAACI,WADV;AAEVM,QAAAA,aAAa,EAAE,YAFL;AAGVE,QAAAA,aAAa,EAAE;AACXC,UAAAA,EAAE,EAAEb,MAAM,CAACa,EADA;AAEXC,UAAAA,KAAK,EAAEd,MAAM,CAACc,KAFH;AAGXC,UAAAA,IAAI,EAAEf,MAAM,CAACe;AAHF,SAHL;AAQVJ,QAAAA,OAAO,EAAE;AARC,OAAX,CAAP;;AAUJ;AACI,aAAOZ,KAAP;AAzCR;AA2CH,CAhDD;;AAkDA,eAAeD,IAAf","sourcesContent":["import React from 'react'\n\nconst form = (state = [], action) => {\n    // console.log(state);\n    // console.log(action);\n    let formElement = state.filter(b => b.showElement === action.showElement).slice(-1).pop();\n    console.log(formElement);\n    switch (action.type) {\n        case 'SHOW_FORM':\n            if (formElement) {\n                return [{\n                    showElement: action.showElement,\n                    elementAction: 'createPost',\n                    enabled: !formElement.enabled\n                }];\n            }\n            return [...state,\n                {\n                    showElement: action.showElement,\n                    elementAction: 'createPost',\n                    enabled: true\n                }\n            ];\n\n        case 'SHOW_UPDATE_FORM':\n            if (formElement) {\n                return [{\n                    showElement: action.showElement,\n                    elementAction: 'updatePost',\n                    optionalState: {\n                        id: action.id,\n                        title: action.title,\n                        text: action.text\n                    },\n                    enabled: !formElement.enabled\n                }];\n            }\n            return [...state, {\n                    showElement: action.showElement,\n                    elementAction: 'updatePost',\n                    optionalState: {\n                        id: action.id,\n                        title: action.title,\n                        text: action.text\n                    },\n                    enabled: true\n                }];\n        default:\n            return state\n    }\n};\n\nexport default form"]},"metadata":{},"sourceType":"module"}